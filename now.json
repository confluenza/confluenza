{
  "version": 2,
  "public": true,
  "name": "confluenza",
  "scope": "confluenza-online",
  "build": {
    "env": {
      "SKIP_PREFLIGHT_CHECK": "true",
      "REACT_APP_PATH_PREFIX": "/demo-component-navigator"
    }
  },
  "builds": [
    { 
      "src": "workspaces/homepage/package.json",
      "use": "@now/static-build",
      "config": {"distDir": "public"}
    },
    { 
      "src": "workspaces/demo-component-navigator/package.json",
      "use": "@now/static-build",
      "config": {"distDir": "build"}
    }
  ],
  "routes": [
    { "src": "/demo-component-navigator", "dest": "/workspaces/demo-component-navigator/index.html"},
    { "src": "/demo-component-navigator/static/(.*)", "dest": "/workspaces/demo-component-navigator/static/$1"},
    { "src": "/demo-component-navigator/favicon.ico", "dest": "/workspaces/demo-component-navigator/favicon.ico"},
    { "src": "/demo-component-navigator/asset-manifest.json", "dest": "/workspaces/demo-component-navigator/asset-manifest.json"},
    { "src": "/demo-component-navigator/manifest.json", "dest": "/workspaces/demo-component-navigator/manifest.json"},
    { "src": "/demo-component-navigator/service-worker.js", "headers": {"cache-control": "s-maxage=0"}, "dest": "/workspaces/demo-component-navigator/service-worker.js"},
    { "src": "/demo-component-navigator/precache-manifest.(.*)", "dest": "/workspaces/demo-component-navigator/precache-manifest.$1"},
    { "src": "/demo-component-navigator/(.*)", "dest": "/workspaces/demo-component-navigator/index.html"},
    {
      "src": "(?!/workspaces/demo-component-navigator)(.*)",
      "dest": "/workspaces/homepage$1",
      "continue": true
    },
    { "handle": "filesystem" },
    { 
      "src": "/(?!/workspaces/demo-component-navigator)(.*)",
      "dest": "/workspaces/homepage/404" ,
      "continue": true
    }
  ]
}
